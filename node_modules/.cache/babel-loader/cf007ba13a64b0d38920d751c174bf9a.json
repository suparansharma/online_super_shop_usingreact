{"ast":null,"code":"import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport firebaseConfig from './firebase.config';\nexport const initializeLoginFramework = () => {\n  if (firebase.apps.length === 0) {\n    firebase.initializeApp(firebaseConfig);\n  }\n};\nexport const handleGoogleSignIn = () => {\n  const provider = new firebase.auth.GoogleAuthProvider();\n  return firebase.auth().signInWithPopup(provider).then(res => {\n    const {\n      displayName,\n      email,\n      photoURL\n    } = res.user;\n    const signedInUser = {\n      isSignedIn: true,\n      name: displayName,\n      email: email,\n      photo: photoURL,\n      success: true\n    };\n    return signedInUser; //   console.log(displayName,email,photoURL);\n    // console.log(res);\n  }).catch(err => {\n    console.log(err);\n    console.log(err.message);\n  });\n};\nexport const handleSignOut = () => {\n  return firebase.auth().signOut().then(res => {\n    const signedOutUser = {\n      isSignedIn: false,\n      name: '',\n      photo: '',\n      email: '',\n      error: '',\n      success: false\n    };\n    return signedOutUser;\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const createUserWithEmailAndPassword = (name, email, password) => {\n  return firebase.auth().createUserWithEmailAndPassword(email, password).then(res => {\n    const newUserInfo = res.user;\n    newUserInfo.error = '';\n    newUserInfo.success = true; //   setUser(newUserInfo);\n    //   setLoggedInUser(newUserInfo);\n    //   history.replace(from);\n\n    updateUserName(name);\n    return newUserInfo;\n  }).catch(error => {\n    const newUserInfo = {};\n    newUserInfo.error = error.message;\n    newUserInfo.success = false;\n    return newUserInfo; //   setUser(newUserInfo);\n  });\n};\nexport const signInWithEmailAndPassword = (email, password) => {\n  firebase.auth().signInWithEmailAndPassword(email, password).then(res => {\n    const newUserInfo = res.user;\n    newUserInfo.error = '';\n    newUserInfo.success = true;\n    return newUserInfo; //   setUser(newUserInfo);\n    //   console.log('sign in user info ',res.user);\n  }).catch(function (error) {\n    const newUserInfo = {};\n    newUserInfo.error = error.message;\n    newUserInfo.success = false;\n    return newUserInfo; //   setUser(newUserInfo);\n  });\n};\n\nconst updateUserName = name => {\n  const user = firebase.auth().currentUser;\n  user.updateProfile({\n    displayName: \"Jane Q. User\",\n    photoURL: \"https://example.com/jane-q-user/profile.jpg\"\n  }).then(() => {\n    console.log('user name updated successfully');\n  }).catch(error => {\n    console.log(error);\n  });\n};","map":{"version":3,"sources":["C:/Web Development/React/online_super_shop_usingreact/src/Component/Login/loginManager.js"],"names":["firebase","firebaseConfig","initializeLoginFramework","apps","length","initializeApp","handleGoogleSignIn","provider","auth","GoogleAuthProvider","signInWithPopup","then","res","displayName","email","photoURL","user","signedInUser","isSignedIn","name","photo","success","catch","err","console","log","message","handleSignOut","signOut","signedOutUser","error","createUserWithEmailAndPassword","password","newUserInfo","updateUserName","signInWithEmailAndPassword","currentUser","updateProfile"],"mappings":"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","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport firebaseConfig from './firebase.config';\r\n\r\nexport const initializeLoginFramework =() =>{\r\n  if(firebase.apps.length === 0){\r\n    firebase.initializeApp(firebaseConfig);\r\n  }\r\n}\r\n\r\nexport const handleGoogleSignIn = () =>{\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n   return firebase.auth().signInWithPopup(provider)\r\n    .then(res => {\r\n      const {displayName,email,photoURL} = res.user;\r\n      const signedInUser = {\r\n        isSignedIn : true,\r\n        name : displayName,\r\n        email : email,\r\n        photo :photoURL,\r\n        success:true\r\n\r\n      }\r\n      return signedInUser;\r\n    //   console.log(displayName,email,photoURL);\r\n      // console.log(res);\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      console.log(err.message);\r\n\r\n    })\r\n  }\r\n\r\n  export const handleSignOut = ()=>{\r\n    return firebase.auth().signOut()\r\n    .then(res =>{\r\n      const signedOutUser = {\r\n        isSignedIn : false,\r\n        name : '',\r\n        photo : '',\r\n        email : '',\r\n        error :'',\r\n        success:false\r\n      }\r\n      return signedOutUser;\r\n    })\r\n\r\n    .catch(err => {\r\n      console.log(err);\r\n\r\n    })\r\n  }\r\n\r\n  export const createUserWithEmailAndPassword = (name,email,password) =>{\r\n    return firebase.auth().createUserWithEmailAndPassword(email,password)\r\n    .then(res => {\r\n      const newUserInfo = res.user;\r\n      newUserInfo.error = '';\r\n      newUserInfo.success=true;\r\n    //   setUser(newUserInfo);\r\n    //   setLoggedInUser(newUserInfo);\r\n    //   history.replace(from);\r\n      updateUserName(name);\r\n      return newUserInfo;\r\n      \r\n    })\r\n    .catch(error =>\r\n  {\r\n const newUserInfo = {};\r\n newUserInfo.error = error.message;\r\n newUserInfo.success=false;\r\n return newUserInfo;\r\n//   setUser(newUserInfo);\r\n\r\n});\r\n  }\r\n\r\n  export const signInWithEmailAndPassword = (email,password) =>{\r\n    firebase.auth().signInWithEmailAndPassword(email,password)\r\n    .then(res => {\r\n      const newUserInfo = res.user;\r\n      newUserInfo.error = '';\r\n      newUserInfo.success = true;\r\n      return newUserInfo;\r\n    //   setUser(newUserInfo);\r\n    //   console.log('sign in user info ',res.user);\r\n \r\n})\r\n.catch(function(error) {\r\n  const newUserInfo = {};\r\n  newUserInfo.error = error.message;\r\n  newUserInfo.success = false;\r\n  return newUserInfo;\r\n//   setUser(newUserInfo);\r\n});\r\n  }\r\n\r\n  const updateUserName = name =>{\r\n    const user = firebase.auth().currentUser;\r\n\r\n    user.updateProfile({\r\n      displayName: \"Jane Q. User\",\r\n      photoURL: \"https://example.com/jane-q-user/profile.jpg\"\r\n    })\r\n    .then(() => {\r\n      console.log('user name updated successfully')\r\n    })\r\n    .catch((error) => {\r\n     console.log(error)\r\n    });  \r\n\r\n  }"]},"metadata":{},"sourceType":"module"}