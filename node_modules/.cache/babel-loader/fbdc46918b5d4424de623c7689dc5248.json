{"ast":null,"code":"var _jsxFileName = \"C:\\\\Web Development\\\\React\\\\online_super_shop_usingreact\\\\src\\\\Component\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport * as firebase from 'firebase/app';\nimport { UserContext } from '../../App';\nimport { useHistory } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom';\nimport { handleFbSignIn, handleGoogleSignIn, handleSignOut, initializeLoginFramework } from './loginManager';\nimport { signOut } from 'firebase/auth';\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [newUser, setNewUser] = useState(false);\n  const [user, setUser] = useState({\n    isSignedIn: false,\n    name: '',\n    email: '',\n    password: '',\n    photo: ''\n  });\n  initializeLoginFramework();\n  const [loggedInUser, setLoggedInUser] = useContext(UserContext);\n  let history = useHistory();\n  let location = useLocation();\n  let {\n    from\n  } = location.state || {\n    from: {\n      pathname: \"/\"\n    }\n  };\n\n  const googleSignIn = () => {\n    handleGoogleSignIn().then(res => {\n      setUser(res);\n      setLoggedInUser(res);\n      history.replace(from);\n    });\n  };\n\n  const fbSignIn = () => {\n    handleFbSignIn().then(res => {\n      setUser(res);\n      setLoggedInUser(res);\n      history.replace(from);\n    });\n  };\n\n  const signOut = () => {\n    handleSignOut().then(res => {\n      setUser(res);\n      setLoggedInUser(res);\n    });\n  };\n\n  const handleBlur = e => {\n    let isFieldValid = true;\n\n    if (e.target.name === 'email') {\n      isFieldValid = /\\S+@\\S+\\.\\S+/.test(e.target.value);\n    }\n\n    if (e.target.name === 'password') {\n      isFieldValid = /^[a-zA-Z0-9!@#$%^&*]{6,16}$/.test(e.target.value);\n    }\n\n    if (isFieldValid) {\n      const newUserInfo = { ...user\n      };\n      newUserInfo[e.target.name] = e.target.value;\n      setUser(newUserInfo);\n    }\n  };\n\n  const handleSubmit = e => {\n    if (newUser && user.email && user.password) {\n      createUserWithEmailAndPassword().then(res => {\n        setUser(res);\n        setLoggedInUser(res);\n        history.replace(from);\n      });\n    }\n\n    if (!newUser && user.email && user.password) {}\n\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [user.isSignedIn ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: signOut,\n      children: \"SignOut\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: googleSignIn,\n      children: \"SignIn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fbSignIn,\n      children: \"Sign In With Facebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }, this), user.isSignedIn && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Welcome,\", user.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Your email:\", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: user.photo,\n        alt: \"\",\n        srcset: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 27\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        onChange: () => setNewUser(!newUser),\n        name: \"\",\n        id: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [newUser && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          id: \"\",\n          onBlur: handleBlur,\n          placeholder: \"input your name\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"email\",\n          id: \"\",\n          onBlur: handleBlur,\n          placeholder: \"input your email address\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          onChange: handleBlur,\n          id: \"\",\n          placeholder: \"a-zA-Z0-9!@#$%^&* \",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: newUser ? 'Sign In' : 'Sign Up  '\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        children: user.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 8\n      }, this), user.success && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'green'\n        },\n        children: [\"User \", newUser ? \"Created\" : \"Logged In\", \" Successfully\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 4\n  }, this);\n}\n\n_s(Login, \"dBg+eLK3hzjEPGZokfzdE2uxxUM=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Web Development/React/online_super_shop_usingreact/src/Component/Login/Login.js"],"names":["React","useContext","useState","firebase","UserContext","useHistory","useLocation","handleFbSignIn","handleGoogleSignIn","handleSignOut","initializeLoginFramework","signOut","createUserWithEmailAndPassword","Login","newUser","setNewUser","user","setUser","isSignedIn","name","email","password","photo","loggedInUser","setLoggedInUser","history","location","from","state","pathname","googleSignIn","then","res","replace","fbSignIn","handleBlur","e","isFieldValid","target","test","value","newUserInfo","handleSubmit","preventDefault","color","error","success"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAO,KAAKC,QAAZ,MAA0B,cAA1B;AAEA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,cAAT,EAAyBC,kBAAzB,EAA6CC,aAA7C,EAA4DC,wBAA5D,QAA4F,gBAA5F;AACA,SAASC,OAAT,QAAwB,eAAxB;AACA,SAASC,8BAAT,QAA+C,eAA/C;;;AAIA,SAASC,KAAT,GAAiB;AAAA;;AACf,QAAM,CAACC,OAAD,EAASC,UAAT,IAAqBb,QAAQ,CAAC,KAAD,CAAnC;AACA,QAAM,CAACc,IAAD,EAAMC,OAAN,IAAiBf,QAAQ,CAAC;AAC9BgB,IAAAA,UAAU,EAAE,KADkB;AAE9BC,IAAAA,IAAI,EAAE,EAFwB;AAG9BC,IAAAA,KAAK,EAAC,EAHwB;AAI9BC,IAAAA,QAAQ,EAAC,EAJqB;AAK9BC,IAAAA,KAAK,EAAC;AALwB,GAAD,CAA/B;AASAZ,EAAAA,wBAAwB;AACxB,QAAM,CAACa,YAAD,EAAcC,eAAd,IAAiCvB,UAAU,CAACG,WAAD,CAAjD;AACA,MAAIqB,OAAO,GAAGpB,UAAU,EAAxB;AACA,MAAIqB,QAAQ,GAAGpB,WAAW,EAA1B;AACA,MAAI;AAAEqB,IAAAA;AAAF,MAAWD,QAAQ,CAACE,KAAT,IAAkB;AAAED,IAAAA,IAAI,EAAE;AAAEE,MAAAA,QAAQ,EAAE;AAAZ;AAAR,GAAjC;;AAED,QAAMC,YAAY,GAAE,MAAK;AAExBtB,IAAAA,kBAAkB,GACjBuB,IADD,CACMC,GAAG,IAAG;AACVf,MAAAA,OAAO,CAACe,GAAD,CAAP;AACAR,MAAAA,eAAe,CAACQ,GAAD,CAAf;AACAP,MAAAA,OAAO,CAACQ,OAAR,CAAgBN,IAAhB;AACD,KALD;AAMA,GARD;;AAUA,QAAMO,QAAQ,GAAG,MAAI;AACnB3B,IAAAA,cAAc,GACbwB,IADD,CACMC,GAAG,IAAG;AACXf,MAAAA,OAAO,CAACe,GAAD,CAAP;AACAR,MAAAA,eAAe,CAACQ,GAAD,CAAf;AACAP,MAAAA,OAAO,CAACQ,OAAR,CAAgBN,IAAhB;AACA,KALD;AAMD,GAPD;;AAaA,QAAMhB,OAAO,GAAG,MAAK;AACnBF,IAAAA,aAAa,GACZsB,IADD,CACMC,GAAG,IAAG;AACVf,MAAAA,OAAO,CAACe,GAAD,CAAP;AACAR,MAAAA,eAAe,CAACQ,GAAD,CAAf;AACD,KAJD;AAKD,GAND;;AAYC,QAAMG,UAAU,GAAGC,CAAD,IAAM;AACtB,QAAIC,YAAY,GAAG,IAAnB;;AAEA,QAAGD,CAAC,CAACE,MAAF,CAASnB,IAAT,KAAiB,OAApB,EAA4B;AAC1BkB,MAAAA,YAAY,GAAG,eAAeE,IAAf,CAAoBH,CAAC,CAACE,MAAF,CAASE,KAA7B,CAAf;AAED;;AACD,QAAGJ,CAAC,CAACE,MAAF,CAASnB,IAAT,KAAiB,UAApB,EAA+B;AAE7BkB,MAAAA,YAAY,GAAG,8BAA8BE,IAA9B,CAAmCH,CAAC,CAACE,MAAF,CAASE,KAA5C,CAAf;AACD;;AACD,QAAGH,YAAH,EAAgB;AACd,YAAMI,WAAW,GAAG,EAAC,GAAGzB;AAAJ,OAApB;AACAyB,MAAAA,WAAW,CAACL,CAAC,CAACE,MAAF,CAASnB,IAAV,CAAX,GAA6BiB,CAAC,CAACE,MAAF,CAASE,KAAtC;AACAvB,MAAAA,OAAO,CAACwB,WAAD,CAAP;AACD;AACF,GAhBD;;AAkBA,QAAMC,YAAY,GAAGN,CAAD,IAAK;AAEvB,QAAGtB,OAAO,IAAIE,IAAI,CAACI,KAAhB,IAAyBJ,IAAI,CAACK,QAAjC,EAA0C;AACxCT,MAAAA,8BAA8B,GAC7BmB,IADD,CACMC,GAAG,IAAG;AACVf,QAAAA,OAAO,CAACe,GAAD,CAAP;AACAR,QAAAA,eAAe,CAACQ,GAAD,CAAf;AACAP,QAAAA,OAAO,CAACQ,OAAR,CAAgBN,IAAhB;AACD,OALD;AAMD;;AAED,QAAG,CAACb,OAAD,IAAYE,IAAI,CAACI,KAAjB,IAA0BJ,IAAI,CAACK,QAAlC,EAA2C,CAE1C;;AACDe,IAAAA,CAAC,CAACO,cAAF;AACD,GAfD;;AAmBA,sBACC;AAAA,eAEI3B,IAAI,CAACE,UAAL,gBAAiB;AAAQ,MAAA,OAAO,EAAEP,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAjB,gBACA;AAAQ,MAAA,OAAO,EAAEmB,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,eAOC;AAAA;AAAA;AAAA;AAAA,YAPD,eAQC;AAAQ,MAAA,OAAO,EAAEI,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARD,EAWIlB,IAAI,CAACE,UAAL,iBAAmB;AAAA,8BACjB;AAAA,+BAAYF,IAAI,CAACG,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,cADiB,eAEjB;AAAA,kCAAeH,IAAI,CAACI,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA,cAFiB,eAGjB;AAAK,QAAA,GAAG,EAAEJ,IAAI,CAACM,KAAf;AAAsB,QAAA,GAAG,EAAC,EAA1B;AAA6B,QAAA,MAAM,EAAC;AAApC;AAAA;AAAA;AAAA;AAAA,cAHiB;AAAA;AAAA;AAAA;AAAA;AAAA,YAXvB,eAkBE;AAAA,8BAKE;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,QAAQ,EAAE,MAAIP,UAAU,CAAC,CAACD,OAAF,CAA/C;AAA2D,QAAA,IAAI,EAAC,EAAhE;AAAmE,QAAA,EAAE,EAAC;AAAtE;AAAA;AAAA;AAAA;AAAA,cALF,eAME;AAAM,QAAA,QAAQ,EAAE4B,YAAhB;AAAA,mBACE5B,OAAO,iBAAI;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,MAAxB;AAA+B,UAAA,EAAE,EAAC,EAAlC;AAAqC,UAAA,MAAM,EAAEqB,UAA7C;AAAyD,UAAA,WAAW,EAAC,iBAArE;AAAuF,UAAA,QAAQ;AAA/F;AAAA;AAAA;AAAA;AAAA,gBADb,eAEE;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,OAAxB;AAAgC,UAAA,EAAE,EAAC,EAAnC;AAAsC,UAAA,MAAM,EAAEA,UAA9C;AAA0D,UAAA,WAAW,EAAC,0BAAtE;AAAiG,UAAA,QAAQ;AAAzG;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAuB,UAAA,IAAI,EAAC,UAA5B;AAAuC,UAAA,QAAQ,EAAEA,UAAjD;AAA6D,UAAA,EAAE,EAAC,EAAhE;AAAmE,UAAA,WAAW,EAAC,oBAA/E;AAAoG,UAAA,QAAQ;AAA5G;AAAA;AAAA;AAAA;AAAA,gBALF,eAME;AAAA;AAAA;AAAA;AAAA,gBANF,eAOE;AAAO,UAAA,IAAI,EAAC,QAAZ;AAAqB,UAAA,KAAK,EAAErB,OAAO,GAAG,SAAH,GAAc;AAAjD;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,eAgBE;AAAG,QAAA,KAAK,EAAE;AAAE8B,UAAAA,KAAK,EAAC;AAAR,SAAV;AAAA,kBAA4B5B,IAAI,CAAC6B;AAAjC;AAAA;AAAA;AAAA;AAAA,cAhBF,EAiBG7B,IAAI,CAAC8B,OAAL,iBAAgB;AAAG,QAAA,KAAK,EAAE;AAAEF,UAAAA,KAAK,EAAC;AAAR,SAAV;AAAA,4BAAmC9B,OAAO,GAAG,SAAH,GAAe,WAAzD;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBnB;AAAA;AAAA;AAAA;AAAA;AAAA,YAlBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAwCD;;GAjIQD,K;UAaOR,U,EACCC,W;;;KAdRO,K;AAmIT,eAAeA,KAAf","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport * as firebase from 'firebase/app';\r\n\r\nimport { UserContext } from '../../App';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { handleFbSignIn, handleGoogleSignIn, handleSignOut, initializeLoginFramework } from './loginManager';\r\nimport { signOut } from 'firebase/auth';\r\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\r\n\r\n\r\n\r\nfunction Login() {\r\n  const [newUser,setNewUser]=useState(false);\r\n  const [user,setUser] = useState({\r\n    isSignedIn: false,\r\n    name: '',\r\n    email:'',\r\n    password:'',\r\n    photo:''\r\n\r\n  })\r\n\r\n  initializeLoginFramework();\r\n  const [loggedInUser,setLoggedInUser] = useContext(UserContext);\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n  let { from } = location.state || { from: { pathname: \"/\" } };\r\n\r\n const googleSignIn =() =>{\r\n\r\n  handleGoogleSignIn()\r\n  .then(res =>{\r\n    setUser(res)\r\n    setLoggedInUser(res);\r\n    history.replace(from);\r\n  })\r\n }\r\n\r\n const fbSignIn = ()=>{\r\n   handleFbSignIn()\r\n   .then(res =>{\r\n    setUser(res)\r\n    setLoggedInUser(res);\r\n    history.replace(from);\r\n   })\r\n }\r\n\r\n\r\n\r\n\r\n\r\n const signOut = () =>{\r\n   handleSignOut()\r\n   .then(res =>{\r\n     setUser(res);\r\n     setLoggedInUser(res);\r\n   })\r\n }\r\n\r\n\r\n\r\n\r\n\r\n  const handleBlur =(e) =>{\r\n    let isFieldValid = true;\r\n\r\n    if(e.target.name ==='email'){\r\n      isFieldValid = /\\S+@\\S+\\.\\S+/.test(e.target.value);\r\n      \r\n    }\r\n    if(e.target.name ==='password'){\r\n\r\n      isFieldValid = /^[a-zA-Z0-9!@#$%^&*]{6,16}$/.test(e.target.value);\r\n    }\r\n    if(isFieldValid){\r\n      const newUserInfo = {...user};\r\n      newUserInfo[e.target.name] = e.target.value;\r\n      setUser(newUserInfo);\r\n    }\r\n  }\r\n\r\n  const handleSubmit =(e)=>{\r\n    \r\n    if(newUser && user.email && user.password){\r\n      createUserWithEmailAndPassword()\r\n      .then(res =>{\r\n        setUser(res);\r\n        setLoggedInUser(res);\r\n        history.replace(from);\r\n      })\r\n    }\r\n\r\n    if(!newUser && user.email && user.password){\r\n\r\n    }\r\n    e.preventDefault();\r\n  }\r\n\r\n\r\n\r\n  return (\r\n   <div>\r\n     {\r\n       user.isSignedIn ?<button onClick={signOut} >SignOut</button> :\r\n       <button onClick={googleSignIn} >SignIn</button>\r\n\r\n    }\r\n\r\n    <br />\r\n    <button onClick={fbSignIn}>Sign In With Facebook</button>\r\n\r\n     {\r\n       user.isSignedIn && <div>\r\n         <p>Welcome,{user.name}</p>\r\n         <p>Your email:{user.email}</p>\r\n         <img src={user.photo} alt=\"\" srcset=\"\" />\r\n      </div>\r\n     }\r\n\r\n     <div>\r\n       {/* <h1>Our own Authentication</h1>\r\n       <p>Name:{user.name}</p>\r\n       <p>Email:{user.email}</p>\r\n       <p>Password:{user.password}</p> */}\r\n       <input type=\"checkbox\" onChange={()=>setNewUser(!newUser)} name=\"\" id=\"\" />\r\n       <form onSubmit={handleSubmit}>\r\n        {newUser && <input type=\"text\" name=\"name\" id=\"\" onBlur={handleBlur} placeholder='input your name' required />}\r\n         <br />\r\n         <input type=\"text\" name=\"email\" id=\"\" onBlur={handleBlur} placeholder='input your email address' required/>\r\n         <br />\r\n         <input type=\"password\" name=\"password\" onChange={handleBlur} id=\"\" placeholder='a-zA-Z0-9!@#$%^&* ' required />\r\n         <br />\r\n         <input type=\"submit\" value={newUser ? 'Sign In' :'Sign Up  '} />\r\n       </form>\r\n\r\n       <p style={{ color:'red' }}>{user.error}</p>\r\n       {user.success && <p style={{ color:'green' }}>User {newUser ? \"Created\" : \"Logged In\"} Successfully</p>}\r\n     </div>\r\n   </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}